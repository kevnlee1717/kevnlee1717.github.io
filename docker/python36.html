<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>python36 | 读书笔记</title>
    <meta name="description" content="blog for important">
    <meta name="generator" content="VuePress 1.3.1">
    
    
    <link rel="preload" href="/assets/css/0.styles.6b1fcd0f.css" as="style"><link rel="preload" href="/assets/js/app.9eeb4c04.js" as="script"><link rel="preload" href="/assets/js/2.05f5c699.js" as="script"><link rel="preload" href="/assets/js/26.4bbfc20d.js" as="script"><link rel="prefetch" href="/assets/js/10.ce5629fc.js"><link rel="prefetch" href="/assets/js/11.9773dffd.js"><link rel="prefetch" href="/assets/js/12.cb235449.js"><link rel="prefetch" href="/assets/js/13.838af8c1.js"><link rel="prefetch" href="/assets/js/14.0f78d55e.js"><link rel="prefetch" href="/assets/js/15.7b28f3cf.js"><link rel="prefetch" href="/assets/js/16.bd9e6d20.js"><link rel="prefetch" href="/assets/js/17.d8687edf.js"><link rel="prefetch" href="/assets/js/18.306806ea.js"><link rel="prefetch" href="/assets/js/19.ab35d666.js"><link rel="prefetch" href="/assets/js/20.d0795bc0.js"><link rel="prefetch" href="/assets/js/21.4528c5b9.js"><link rel="prefetch" href="/assets/js/22.d2153363.js"><link rel="prefetch" href="/assets/js/23.d7c71f27.js"><link rel="prefetch" href="/assets/js/24.a9e1c254.js"><link rel="prefetch" href="/assets/js/25.15696c77.js"><link rel="prefetch" href="/assets/js/27.1a8b8d41.js"><link rel="prefetch" href="/assets/js/28.81f62634.js"><link rel="prefetch" href="/assets/js/29.15767945.js"><link rel="prefetch" href="/assets/js/3.512ca8e1.js"><link rel="prefetch" href="/assets/js/30.e956e5bf.js"><link rel="prefetch" href="/assets/js/31.c9fa876d.js"><link rel="prefetch" href="/assets/js/32.79554d08.js"><link rel="prefetch" href="/assets/js/33.a6cfbf61.js"><link rel="prefetch" href="/assets/js/34.b6f8901e.js"><link rel="prefetch" href="/assets/js/35.ab673e8f.js"><link rel="prefetch" href="/assets/js/36.f5ee7dc3.js"><link rel="prefetch" href="/assets/js/37.40e0320b.js"><link rel="prefetch" href="/assets/js/38.6cb6a27b.js"><link rel="prefetch" href="/assets/js/39.ff4a30ed.js"><link rel="prefetch" href="/assets/js/4.00b5f0c7.js"><link rel="prefetch" href="/assets/js/40.478ea2a9.js"><link rel="prefetch" href="/assets/js/41.64fdc8de.js"><link rel="prefetch" href="/assets/js/42.514e254b.js"><link rel="prefetch" href="/assets/js/43.e2c263a3.js"><link rel="prefetch" href="/assets/js/44.e01d7fb4.js"><link rel="prefetch" href="/assets/js/45.a2fddd2d.js"><link rel="prefetch" href="/assets/js/46.8282db21.js"><link rel="prefetch" href="/assets/js/47.a7e1170f.js"><link rel="prefetch" href="/assets/js/48.fe61ca73.js"><link rel="prefetch" href="/assets/js/49.34cbcda0.js"><link rel="prefetch" href="/assets/js/5.59abda55.js"><link rel="prefetch" href="/assets/js/50.38e400ea.js"><link rel="prefetch" href="/assets/js/51.03cc45e4.js"><link rel="prefetch" href="/assets/js/52.f133d9c7.js"><link rel="prefetch" href="/assets/js/53.ada00766.js"><link rel="prefetch" href="/assets/js/54.24a05a9c.js"><link rel="prefetch" href="/assets/js/55.204b6e5c.js"><link rel="prefetch" href="/assets/js/56.13a2207f.js"><link rel="prefetch" href="/assets/js/57.a252ceca.js"><link rel="prefetch" href="/assets/js/58.315067a8.js"><link rel="prefetch" href="/assets/js/59.0026ba95.js"><link rel="prefetch" href="/assets/js/6.fccdfb42.js"><link rel="prefetch" href="/assets/js/60.30c08c7c.js"><link rel="prefetch" href="/assets/js/61.87d9ca75.js"><link rel="prefetch" href="/assets/js/62.30b4fffc.js"><link rel="prefetch" href="/assets/js/63.44cd0bb8.js"><link rel="prefetch" href="/assets/js/64.29caf405.js"><link rel="prefetch" href="/assets/js/65.5280d5cd.js"><link rel="prefetch" href="/assets/js/66.c1aa3043.js"><link rel="prefetch" href="/assets/js/67.7baea68b.js"><link rel="prefetch" href="/assets/js/68.d202f339.js"><link rel="prefetch" href="/assets/js/69.9b34bf67.js"><link rel="prefetch" href="/assets/js/7.1753504c.js"><link rel="prefetch" href="/assets/js/70.0569eace.js"><link rel="prefetch" href="/assets/js/71.464aeeb3.js"><link rel="prefetch" href="/assets/js/72.b7ec61d5.js"><link rel="prefetch" href="/assets/js/73.afd82e65.js"><link rel="prefetch" href="/assets/js/74.6bf26649.js"><link rel="prefetch" href="/assets/js/75.97d4b5c5.js"><link rel="prefetch" href="/assets/js/76.ae4be9dc.js"><link rel="prefetch" href="/assets/js/77.0236f6e7.js"><link rel="prefetch" href="/assets/js/78.de45f505.js"><link rel="prefetch" href="/assets/js/79.74474488.js"><link rel="prefetch" href="/assets/js/8.7d851339.js"><link rel="prefetch" href="/assets/js/80.5c82a395.js"><link rel="prefetch" href="/assets/js/81.310b0fe4.js"><link rel="prefetch" href="/assets/js/82.11228b74.js"><link rel="prefetch" href="/assets/js/83.2c92d02f.js"><link rel="prefetch" href="/assets/js/84.b1209e24.js"><link rel="prefetch" href="/assets/js/9.e24e4f73.js">
    <link rel="stylesheet" href="/assets/css/0.styles.6b1fcd0f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">读书笔记</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/uni-app/" class="nav-link">
  uni
</a></div><div class="nav-item"><a href="/es6/" class="nav-link">
  es6
</a></div><div class="nav-item"><a href="/python/" class="nav-link">
  py
</a></div><div class="nav-item"><a href="/tp5/" class="nav-link">
  tp5
</a></div><div class="nav-item"><a href="/docker/" class="nav-link router-link-active">
  dock
</a></div><div class="nav-item"><a href="/face/" class="nav-link">
  face
</a></div><div class="nav-item"><a href="/android/" class="nav-link">
  android
</a></div><div class="nav-item"><a href="/csharp/" class="nav-link">
  csharp
</a></div><div class="nav-item"><a href="/c++/" class="nav-link">
  c++
</a></div><div class="nav-item"><a href="/arm/" class="nav-link">
  arm
</a></div><div class="nav-item"><a href="/wechat/" class="nav-link">
  wechat
</a></div><div class="nav-item"><a href="/汇编/" class="nav-link">
  汇编
</a></div><div class="nav-item"><a href="/unix/" class="nav-link">
  unix
</a></div><div class="nav-item"><a href="/资源/" class="nav-link">
  资源
</a></div><div class="nav-item"><a href="/摄影/" class="nav-link">
  摄影
</a></div><div class="nav-item"><a href="/加密币/" class="nav-link">
  加密币
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/uni-app/" class="nav-link">
  uni
</a></div><div class="nav-item"><a href="/es6/" class="nav-link">
  es6
</a></div><div class="nav-item"><a href="/python/" class="nav-link">
  py
</a></div><div class="nav-item"><a href="/tp5/" class="nav-link">
  tp5
</a></div><div class="nav-item"><a href="/docker/" class="nav-link router-link-active">
  dock
</a></div><div class="nav-item"><a href="/face/" class="nav-link">
  face
</a></div><div class="nav-item"><a href="/android/" class="nav-link">
  android
</a></div><div class="nav-item"><a href="/csharp/" class="nav-link">
  csharp
</a></div><div class="nav-item"><a href="/c++/" class="nav-link">
  c++
</a></div><div class="nav-item"><a href="/arm/" class="nav-link">
  arm
</a></div><div class="nav-item"><a href="/wechat/" class="nav-link">
  wechat
</a></div><div class="nav-item"><a href="/汇编/" class="nav-link">
  汇编
</a></div><div class="nav-item"><a href="/unix/" class="nav-link">
  unix
</a></div><div class="nav-item"><a href="/资源/" class="nav-link">
  资源
</a></div><div class="nav-item"><a href="/摄影/" class="nav-link">
  摄影
</a></div><div class="nav-item"><a href="/加密币/" class="nav-link">
  加密币
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docker/" class="sidebar-link">docker</a></li><li><a href="/docker/命令.html" class="sidebar-link">命令</a></li><li><a href="/docker/tp5.html" class="sidebar-link">tp5</a></li><li><a href="/docker/laravel.html" class="sidebar-link">laravel</a></li><li><a href="/docker/python36.html" class="active sidebar-link">python36</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docker/python36.html#dockerfile" class="sidebar-link">Dockerfile</a></li><li class="sidebar-sub-header"><a href="/docker/python36.html#docker-compose-yml" class="sidebar-link">docker-compose.yml</a></li></ul></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="python36"><a href="#python36" class="header-anchor">#</a> python36</h1> <h2 id="dockerfile"><a href="#dockerfile" class="header-anchor">#</a> Dockerfile</h2> <div class="language-docker line-numbers-mode"><pre class="language-docker"><code>
<span class="token comment">#</span>
<span class="token comment"># NOTE: THIS DOCKERFILE IS GENERATED VIA </span><span class="token string">&quot;update.sh&quot;</span>
<span class="token comment">#</span>
<span class="token comment"># PLEASE DO NOT EDIT IT DIRECTLY.</span>
<span class="token comment">#</span>

<span class="token keyword">FROM</span> alpine<span class="token punctuation">:</span>3.10

<span class="token comment"># ensure local python is preferred over distribution python</span>
<span class="token keyword">ENV</span> PATH /usr/local/bin<span class="token punctuation">:</span>$PATH

<span class="token comment"># http://bugs.python.org/issue19846</span>
<span class="token comment"># &gt; At the moment, setting </span><span class="token string">&quot;LANG=C&quot;</span> on a Linux system *fundamentally breaks Python 3*<span class="token punctuation">,</span> and that's not OK.
<span class="token keyword">ENV</span> LANG C.UTF<span class="token punctuation">-</span>8

<span class="token comment"># install ca-certificates so that HTTPS works consistently</span>
<span class="token comment"># other runtime dependencies for Python are installed later</span>
<span class="token keyword">RUN</span> apk add <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>cache ca<span class="token punctuation">-</span>certificates

<span class="token keyword">ENV</span> GPG_KEY 0D96DF4D4110E5C43FBFB17F2D347EA6AA65421D
<span class="token keyword">ENV</span> PYTHON_VERSION 3.6.10

<span class="token keyword">RUN</span> set <span class="token punctuation">-</span>ex \
	&amp;&amp; apk add <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>cache <span class="token punctuation">-</span><span class="token punctuation">-</span>virtual .fetch<span class="token punctuation">-</span>deps \
		gnupg \
		tar \
		xz \
	\
	&amp;&amp; wget <span class="token punctuation">-</span>O python.tar.xz <span class="token string">&quot;https://www.python.org/ftp/python/${PYTHON_VERSION%%[a-z]*}/Python-$PYTHON_VERSION.tar.xz&quot;</span> \
	&amp;&amp; wget <span class="token punctuation">-</span>O python.tar.xz.asc <span class="token string">&quot;https://www.python.org/ftp/python/${PYTHON_VERSION%%[a-z]*}/Python-$PYTHON_VERSION.tar.xz.asc&quot;</span> \
	&amp;&amp; export GNUPGHOME=<span class="token string">&quot;$(mktemp -d)&quot;</span> \
	&amp;&amp; gpg <span class="token punctuation">-</span><span class="token punctuation">-</span>batch <span class="token punctuation">-</span><span class="token punctuation">-</span>keyserver ha.pool.sks<span class="token punctuation">-</span>keyservers.net <span class="token punctuation">-</span><span class="token punctuation">-</span>recv<span class="token punctuation">-</span>keys <span class="token string">&quot;$GPG_KEY&quot;</span> \
	&amp;&amp; gpg <span class="token punctuation">-</span><span class="token punctuation">-</span>batch <span class="token punctuation">-</span><span class="token punctuation">-</span>verify python.tar.xz.asc python.tar.xz \
	&amp;&amp; <span class="token punctuation">{</span> command <span class="token punctuation">-</span>v gpgconf <span class="token punctuation">&gt;</span> /dev/null &amp;&amp; gpgconf <span class="token punctuation">-</span><span class="token punctuation">-</span>kill all <span class="token punctuation">|</span><span class="token punctuation">|</span> <span class="token punctuation">:</span>; <span class="token punctuation">}</span> \
	&amp;&amp; rm <span class="token punctuation">-</span>rf <span class="token string">&quot;$GNUPGHOME&quot;</span> python.tar.xz.asc \
	&amp;&amp; mkdir <span class="token punctuation">-</span>p /usr/src/python \
	&amp;&amp; tar <span class="token punctuation">-</span>xJC /usr/src/python <span class="token punctuation">-</span><span class="token punctuation">-</span>strip<span class="token punctuation">-</span>components=1 <span class="token punctuation">-</span>f python.tar.xz \
	&amp;&amp; rm python.tar.xz \
	\
	&amp;&amp; apk add <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>cache <span class="token punctuation">-</span><span class="token punctuation">-</span>virtual .build<span class="token punctuation">-</span>deps  \
		bluez<span class="token punctuation">-</span>dev \
		bzip2<span class="token punctuation">-</span>dev \
		coreutils \
		dpkg<span class="token punctuation">-</span>dev dpkg \
		expat<span class="token punctuation">-</span>dev \
		findutils \
		gcc \
		gdbm<span class="token punctuation">-</span>dev \
		libc<span class="token punctuation">-</span>dev \
		libffi<span class="token punctuation">-</span>dev \
		libnsl<span class="token punctuation">-</span>dev \
		libtirpc<span class="token punctuation">-</span>dev \
		linux<span class="token punctuation">-</span>headers \
		make \
		ncurses<span class="token punctuation">-</span>dev \
		openssl<span class="token punctuation">-</span>dev \
		pax<span class="token punctuation">-</span>utils \
		readline<span class="token punctuation">-</span>dev \
		sqlite<span class="token punctuation">-</span>dev \
		tcl<span class="token punctuation">-</span>dev \
		tk \
		tk<span class="token punctuation">-</span>dev \
		xz<span class="token punctuation">-</span>dev \
		zlib<span class="token punctuation">-</span>dev \
<span class="token comment"># add build deps before removing fetch deps in case there's overlap</span>
	&amp;&amp; apk del <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>network .fetch<span class="token punctuation">-</span>deps \
	\
	&amp;&amp; cd /usr/src/python \
	&amp;&amp; gnuArch=<span class="token string">&quot;$(dpkg-architecture --query DEB_BUILD_GNU_TYPE)&quot;</span> \
	&amp;&amp; ./configure \
		<span class="token punctuation">-</span><span class="token punctuation">-</span>build=<span class="token string">&quot;$gnuArch&quot;</span> \
		<span class="token punctuation">-</span><span class="token punctuation">-</span>enable<span class="token punctuation">-</span>loadable<span class="token punctuation">-</span>sqlite<span class="token punctuation">-</span>extensions \
		<span class="token punctuation">-</span><span class="token punctuation">-</span>enable<span class="token punctuation">-</span>optimizations \
		<span class="token punctuation">-</span><span class="token punctuation">-</span>enable<span class="token punctuation">-</span>option<span class="token punctuation">-</span>checking=fatal \
		<span class="token punctuation">-</span><span class="token punctuation">-</span>enable<span class="token punctuation">-</span>shared \
		<span class="token punctuation">-</span><span class="token punctuation">-</span>with<span class="token punctuation">-</span>system<span class="token punctuation">-</span>expat \
		<span class="token punctuation">-</span><span class="token punctuation">-</span>with<span class="token punctuation">-</span>system<span class="token punctuation">-</span>ffi \
		<span class="token punctuation">-</span><span class="token punctuation">-</span>without<span class="token punctuation">-</span>ensurepip \
	&amp;&amp; make <span class="token punctuation">-</span>j <span class="token string">&quot;$(nproc)&quot;</span> \
<span class="token comment"># set thread stack size to 1MB so we don't segfault before we hit sys.getrecursionlimit()</span>
<span class="token comment"># https://github.com/alpinelinux/aports/commit/2026e1259422d4e0cf92391ca2d3844356c649d0</span>
		EXTRA_CFLAGS=<span class="token string">&quot;-DTHREAD_STACK_SIZE=0x100000&quot;</span> \
<span class="token comment"># setting PROFILE_TASK makes </span><span class="token string">&quot;--enable-optimizations&quot;</span> reasonable<span class="token punctuation">:</span> https<span class="token punctuation">:</span>//bugs.python.org/issue36044 / https<span class="token punctuation">:</span>//github.com/docker<span class="token punctuation">-</span>library/python/issues/160<span class="token comment">#issuecomment-509426916</span>
		PROFILE_TASK=<span class="token string">'-m test.regrtest --pgo \
			test_array \
			test_base64 \
			test_binascii \
			test_binhex \
			test_binop \
			test_bytes \
			test_c_locale_coercion \
			test_class \
			test_cmath \
			test_codecs \
			test_compile \
			test_complex \
			test_csv \
			test_decimal \
			test_dict \
			test_float \
			test_fstring \
			test_hashlib \
			test_io \
			test_iter \
			test_json \
			test_long \
			test_math \
			test_memoryview \
			test_pickle \
			test_re \
			test_set \
			test_slice \
			test_struct \
			test_threading \
			test_time \
			test_traceback \
			test_unicode \
		'</span> \
	&amp;&amp; make install \
	\
	&amp;&amp; find /usr/local <span class="token punctuation">-</span>type f <span class="token punctuation">-</span>executable <span class="token punctuation">-</span>not \( <span class="token punctuation">-</span>name <span class="token string">'*tkinter*'</span> \) <span class="token punctuation">-</span>exec scanelf <span class="token punctuation">-</span><span class="token punctuation">-</span>needed <span class="token punctuation">-</span><span class="token punctuation">-</span>nobanner <span class="token punctuation">-</span><span class="token punctuation">-</span>format <span class="token string">'%n#p'</span> <span class="token string">'{}'</span> <span class="token string">';'</span> \
		<span class="token punctuation">|</span> tr <span class="token string">','</span> <span class="token string">'\n'</span> \
		<span class="token punctuation">|</span> sort <span class="token punctuation">-</span>u \
		<span class="token punctuation">|</span> awk <span class="token string">'system(&quot;[ -e /usr/local/lib/&quot; $1 &quot; ]&quot;) == 0 { next } { print &quot;so:&quot; $1 }'</span> \
		<span class="token punctuation">|</span> xargs <span class="token punctuation">-</span>rt apk add <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>cache <span class="token punctuation">-</span><span class="token punctuation">-</span>virtual .python<span class="token punctuation">-</span>rundeps \
	&amp;&amp; apk del <span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>network .build<span class="token punctuation">-</span>deps \
	\
	&amp;&amp; find /usr/local <span class="token punctuation">-</span>depth \
		\( \
			\( <span class="token punctuation">-</span>type d <span class="token punctuation">-</span>a \( <span class="token punctuation">-</span>name test <span class="token punctuation">-</span>o <span class="token punctuation">-</span>name tests <span class="token punctuation">-</span>o <span class="token punctuation">-</span>name idle_test \) \) \
			<span class="token punctuation">-</span>o \
			\( <span class="token punctuation">-</span>type f <span class="token punctuation">-</span>a \( <span class="token punctuation">-</span>name <span class="token string">'*.pyc'</span> <span class="token punctuation">-</span>o <span class="token punctuation">-</span>name <span class="token string">'*.pyo'</span> \) \) \
		\) <span class="token punctuation">-</span>exec rm <span class="token punctuation">-</span>rf <span class="token string">'{}'</span> + \
	&amp;&amp; rm <span class="token punctuation">-</span>rf /usr/src/python \
	\
	&amp;&amp; python3 <span class="token punctuation">-</span><span class="token punctuation">-</span>version

<span class="token comment"># make some useful symlinks that are expected to exist</span>
<span class="token keyword">RUN</span> cd /usr/local/bin \
	&amp;&amp; ln <span class="token punctuation">-</span>s idle3 idle \
	&amp;&amp; ln <span class="token punctuation">-</span>s pydoc3 pydoc \
	&amp;&amp; ln <span class="token punctuation">-</span>s python3 python \
	&amp;&amp; ln <span class="token punctuation">-</span>s python3<span class="token punctuation">-</span>config python<span class="token punctuation">-</span>config

<span class="token comment"># if this is called </span><span class="token string">&quot;PIP_VERSION&quot;</span><span class="token punctuation">,</span> pip explodes with <span class="token string">&quot;ValueError: invalid truth value '&lt;VERSION&gt;'&quot;</span>
<span class="token keyword">ENV</span> PYTHON_PIP_VERSION 20.0.2
<span class="token comment"># https://github.com/pypa/get-pip</span>
<span class="token keyword">ENV</span> PYTHON_GET_PIP_URL https<span class="token punctuation">:</span>//github.com/pypa/get<span class="token punctuation">-</span>pip/raw/d59197a3c169cef378a22428a3fa99d33e080a5d/get<span class="token punctuation">-</span>pip.py
<span class="token keyword">ENV</span> PYTHON_GET_PIP_SHA256 421ac1d44c0cf9730a088e337867d974b91bdce4ea2636099275071878cc189e

<span class="token keyword">RUN</span> set <span class="token punctuation">-</span>ex; \
	\
	wget <span class="token punctuation">-</span>O get<span class="token punctuation">-</span>pip.py <span class="token string">&quot;$PYTHON_GET_PIP_URL&quot;</span>; \
	echo <span class="token string">&quot;$PYTHON_GET_PIP_SHA256 *get-pip.py&quot;</span> <span class="token punctuation">|</span> sha256sum <span class="token punctuation">-</span>c <span class="token punctuation">-</span>; \
	\
	python get<span class="token punctuation">-</span>pip.py \
		<span class="token punctuation">-</span><span class="token punctuation">-</span>disable<span class="token punctuation">-</span>pip<span class="token punctuation">-</span>version<span class="token punctuation">-</span>check \
		<span class="token punctuation">-</span><span class="token punctuation">-</span>no<span class="token punctuation">-</span>cache<span class="token punctuation">-</span>dir \
		<span class="token string">&quot;pip==$PYTHON_PIP_VERSION&quot;</span> \
	; \
	pip <span class="token punctuation">-</span><span class="token punctuation">-</span>version; \
	\
	find /usr/local <span class="token punctuation">-</span>depth \
		\( \
			\( <span class="token punctuation">-</span>type d <span class="token punctuation">-</span>a \( <span class="token punctuation">-</span>name test <span class="token punctuation">-</span>o <span class="token punctuation">-</span>name tests <span class="token punctuation">-</span>o <span class="token punctuation">-</span>name idle_test \) \) \
			<span class="token punctuation">-</span>o \
			\( <span class="token punctuation">-</span>type f <span class="token punctuation">-</span>a \( <span class="token punctuation">-</span>name <span class="token string">'*.pyc'</span> <span class="token punctuation">-</span>o <span class="token punctuation">-</span>name <span class="token string">'*.pyo'</span> \) \) \
		\) <span class="token punctuation">-</span>exec rm <span class="token punctuation">-</span>rf <span class="token string">'{}'</span> +; \
	rm <span class="token punctuation">-</span>f get<span class="token punctuation">-</span>pip.py

<span class="token keyword">EXPOSE</span> 8888
<span class="token keyword">CMD</span> <span class="token punctuation">[</span><span class="token string">&quot;python3&quot;</span><span class="token punctuation">]</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br><span class="line-number">152</span><br><span class="line-number">153</span><br><span class="line-number">154</span><br><span class="line-number">155</span><br><span class="line-number">156</span><br><span class="line-number">157</span><br><span class="line-number">158</span><br><span class="line-number">159</span><br><span class="line-number">160</span><br><span class="line-number">161</span><br><span class="line-number">162</span><br><span class="line-number">163</span><br><span class="line-number">164</span><br><span class="line-number">165</span><br><span class="line-number">166</span><br><span class="line-number">167</span><br><span class="line-number">168</span><br><span class="line-number">169</span><br><span class="line-number">170</span><br><span class="line-number">171</span><br><span class="line-number">172</span><br><span class="line-number">173</span><br><span class="line-number">174</span><br></div></div><h2 id="docker-compose-yml"><a href="#docker-compose-yml" class="header-anchor">#</a> docker-compose.yml</h2> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code>
<span class="token comment"># app是跟 dockerfile里的一样？</span>
<span class="token key atrule">py36</span><span class="token punctuation">:</span>
   
   <span class="token comment">#容器名，跟 dockerfile里面的一样？</span>
   <span class="token key atrule">container_name</span><span class="token punctuation">:</span> py36

   <span class="token comment"># 有错误的时候总是重启</span>
   <span class="token key atrule">restart</span><span class="token punctuation">:</span> always

   <span class="token comment"># 从当前目录获取dockerfile</span>
   build .

   <span class="token comment"># 运行的时候需要打开的端口</span>
   <span class="token key atrule">ports</span><span class="token punctuation">:</span>
    <span class="token punctuation">-</span> <span class="token string">&quot;8888:8888&quot;</span>
   
   

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/docker/laravel.html" class="prev">
        laravel
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.9eeb4c04.js" defer></script><script src="/assets/js/2.05f5c699.js" defer></script><script src="/assets/js/26.4bbfc20d.js" defer></script>
  </body>
</html>
